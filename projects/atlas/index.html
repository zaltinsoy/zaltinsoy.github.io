<!DOCTYPE html>
<html>

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">
<link rel="icon" href=/fav.png type="image/gif">


<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preload"
      as="style"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
>
<link rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
      media="print" onload="this.media='all'" />
<noscript>
  <link
          href="https://fonts.googleapis.com/css2?family=Alata&family=Lora:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
          rel="stylesheet">
</noscript>


<link rel="stylesheet" href="/css/font.css" media="all">



<meta property="og:title" content="ATLAS" />
<meta property="og:description" content="ATLAS - MMI 541 Game Physics Project Introduction Summary Atlas is a 3D First Person Puzzle Game where the players will be in the role of the reincarnation of the Greek titan Atlas. The game will be consist of different test chambers. Player&rsquo;s aim is to reach the exit of each chamber. These test chambers will consist 3D puzzles and the player will use the different gravity manipulation powers to solve these puzzles and reach the end of the level." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://zaltinsoy.github.io/projects/atlas/" /><meta property="article:section" content="projects" />
<meta property="article:published_time" content="2022-03-13T16:18:47+03:00" />
<meta property="article:modified_time" content="2022-03-13T16:18:47+03:00" /><meta property="og:site_name" content="Zafer Altınsoy" />


<meta name="twitter:card" content="summary"/><meta name="twitter:title" content="ATLAS"/>
<meta name="twitter:description" content="ATLAS - MMI 541 Game Physics Project Introduction Summary Atlas is a 3D First Person Puzzle Game where the players will be in the role of the reincarnation of the Greek titan Atlas. The game will be consist of different test chambers. Player&rsquo;s aim is to reach the exit of each chamber. These test chambers will consist 3D puzzles and the player will use the different gravity manipulation powers to solve these puzzles and reach the end of the level."/>


<link rel="stylesheet" href="/bootstrap-5/css/bootstrap.min.css" media="all"><link rel="stylesheet" href="/css/header.css" media="all">
<link rel="stylesheet" href="/css/footer.css" media="all">


<link rel="stylesheet" href="/css/theme.css" media="all">




<style>
    :root {
        --text-color: #343a40;
        --text-secondary-color: #6c757d;
        --background-color: #eaedf0;
        --secondary-background-color: #64ffda1a;
        --primary-color: #007bff;
        --secondary-color: #f8f9fa;

         
        --text-color-dark: #e4e6eb;
        --text-secondary-color-dark: #b0b3b8;
        --background-color-dark: #18191a;
        --secondary-background-color-dark: #212529;
        --primary-color-dark: #ffffff;
        --secondary-color-dark: #212529;
    }
    body {
        font-size: 1rem;
        font-weight: 400;
        line-height: 1.5;
        text-align: left;
    }

    html {
        background-color: var(--background-color) !important;
    }

    body::-webkit-scrollbar {
        height: 0px;
        width: 8px;
        background-color: var(--background-color);
    }
    
    ::-webkit-scrollbar-track {
        border-radius: 1rem;
    }
    
    ::-webkit-scrollbar-thumb {
        border-radius: 1rem;
        background: #b0b0b0;
        outline: 1px solid var(--background-color);
    }

    #search-content::-webkit-scrollbar {
        width: .5em;
        height: .1em;
        background-color: var(--background-color);
    }
</style>

<meta name="description" content="">
<link rel="stylesheet" href="/css/single.css">


<script defer src="/fontawesome-6/all-6.4.2.js"></script>

  <title>
ATLAS | Zafer Altınsoy

  </title>
</head>

<body class="light">
  
  
<script>
    let localStorageValue = localStorage.getItem("pref-theme");
    let mediaQuery = window.matchMedia('(prefers-color-scheme: dark)').matches;

    switch (localStorageValue) {
        case "dark":
            document.body.classList.add('dark');
            break;
        case "light":
            document.body.classList.remove('dark');
            break;
        default:
            if (mediaQuery) {
                document.body.classList.add('dark');
            }
            break;
    }
</script>




<script>
    var prevScrollPos = window.pageYOffset;
    window.addEventListener("scroll", function showHeaderOnScroll() {
        let profileHeaderElem = document.getElementById("profileHeader");
        let currentScrollPos = window.pageYOffset;
        let resetHeaderStyle = false;
        let showNavBarOnScrollUp =  false ;
        let showNavBar = showNavBarOnScrollUp ? prevScrollPos > currentScrollPos : currentScrollPos > 0;
        if (showNavBar) {
            profileHeaderElem.classList.add("showHeaderOnTop");
        } else {
            resetHeaderStyle = true;
        }
        if(currentScrollPos === 0) {
            resetHeaderStyle = true;
        }
        if(resetHeaderStyle) {
            profileHeaderElem.classList.remove("showHeaderOnTop");
        }
        prevScrollPos = currentScrollPos;        
    });
</script>



<header id="profileHeader">
    <nav class="pt-3 navbar navbar-expand-lg animate">
        <div class="container-fluid mx-xs-2 mx-sm-5 mx-md-5 mx-lg-5">
            
            <a class="navbar-brand primary-font text-wrap" href="/">
                
                <img src="/fav.png" width="30" height="30"
                    class="d-inline-block align-top">
                Zafer Altınsoy
                
            </a>

            
                <div>
                    <input id="search" autocomplete="off" class="form-control mr-sm-2 d-none d-md-block" placeholder='Ctrl &#43; k to Search...'
                        aria-label="Search" oninput="searchOnChange(event)">
                </div>
            

            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
                aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <svg aria-hidden="true" height="24" viewBox="0 0 16 16" version="1.1" width="24" data-view-component="true">
                    <path fill-rule="evenodd" d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z"></path>
                </svg>
            </button>

            
            <div class="collapse navbar-collapse text-wrap primary-font" id="navbarContent">
                <ul class="navbar-nav ms-auto text-center">
                    
                        <li class="nav-item navbar-text d-block d-md-none">
                            <div class="nav-link">
                                <input id="search" autocomplete="off" class="form-control mr-sm-2" placeholder='Ctrl &#43; k to Search...' aria-label="Search" oninput="searchOnChange(event)">
                            </div>
                        </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#about" aria-label="about">
                            About Me
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#experience"
                            aria-label="experience">
                            Experience
                        </a>
                    </li>
                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#education"
                            aria-label="education">
                            Education
                        </a>
                    </li>
                    

                    

                    

                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/#contact"
                            aria-label="contact">
                            Contact
                        </a>
                    </li>
                    

                    
                    
                    
                    
                    <li class="nav-item navbar-text">
                        <a class="nav-link" href="/projects" title="">
                            
                            Projects
                        </a>
                    </li>
                    
                    

                    
                    <li class="nav-item navbar-text">
                        
                        <div class="text-center">
                            <button id="theme-toggle">
                                <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                                </svg>
                                <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <circle cx="12" cy="12" r="5"></circle>
                                    <line x1="12" y1="1" x2="12" y2="3"></line>
                                    <line x1="12" y1="21" x2="12" y2="23"></line>
                                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                    <line x1="1" y1="12" x2="3" y2="12"></line>
                                    <line x1="21" y1="12" x2="23" y2="12"></line>
                                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                                </svg>
                            </button>
                        </div>
                    </li>
                    

                </ul>

            </div>
        </div>
    </nav>
</header>
<div id="content">
<section id="single">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-12 col-lg-9">
        <div class="pr-lg-4">
          <div class="title mb-5">
            <h1 class="text-center mb-4">ATLAS</h1>
            <div class="text-center">
              Zafer Altınsoy 
              <small>|</small>
              Mar 13, 2022

              
              <span id="readingTime">
                min read
              </span>
              
            </div>
          </div>
          
          <div class="featured-image">
            <img class="img-fluid mx-auto d-block" src="/images/ATLAS.png" alt="ATLAS">
          </div>
          
          <article class="page-content  p-2">
          <h1 id="atlas---mmi-541-game-physics-project">ATLAS - MMI 541 Game Physics Project</h1>
<h1 id="introduction">Introduction</h1>
<h2 id="summary">Summary</h2>
<p>Atlas is a 3D First Person Puzzle Game where the players will be in the role of the reincarnation of the Greek titan Atlas. The game will be consist of different test chambers. Player&rsquo;s aim is to reach the exit of  each chamber. These test chambers will consist 3D puzzles and the player will use the different gravity manipulation powers to solve these puzzles and reach the end of the level. Game is developed in Unity platform, and Cyclone Physics Engine<sup id="fnref:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup>  is used for the physics calculations in the game. Atlas developed as a term project in the MMI 541 Physics for Computer Games course.</p>
<p>Watch the video:</p>
<p><a href="https://www.youtube.com/watch?v=5Bwc_DltdQE&amp;ab_channel=ZaferAlt%C4%B1nsoy"><img src="https://user-images.githubusercontent.com/81522783/158582402-f1d7f7de-252c-4129-93fa-d956d1850c2b.jpg" alt="Watch the video"></a></p>
<ul>
<li><strong>Genre:</strong> 3D First Person Single Player Puzzle Game</li>
<li><strong>Platform:</strong> Windows PC</li>
<li><strong>Player&rsquo;s role:</strong> Solve 3D puzzles with the ability of gravity manipulation</li>
</ul>
<h2 id="similar-games--inspiration-sources">Similar Games &amp; Inspiration Sources</h2>
<p>Following games are popular 3D puzzle games,  they are not based on the gravity manipulation but they give inspirational for the creation of 3D puzzles.</p>
<ul>
<li>PORTAL (2007)</li>
<li>Q.U.B.E (2012)</li>
<li>The Talos Principle (2014)</li>
<li>The Witness (2016)</li>
</ul>
<p>Following games are short students projects. These games are directly focused on the gravity manipulation. It is valuable to see how other games use the gravity manipulation as a game mechanic.</p>
<ul>
<li>The Flaws of Gravity (2017)</li>
<li>Gravitas (2019)</li>
</ul>
<h1 id="game-development">Game Development</h1>
<h2 id="game-story">Game Story</h2>
<p>In the game setting, gods of the old are real. Mythological gods are secretly living together with humans for ages. They live, they die and they reincarnate. They born as normal humans. During their lifetime when they encounter a stressful /traumatic situation, they remember their past lives and gain their abilities.</p>
<p><strong>Luxus</strong> is a global multinational technology company. They are aware of the existence of the gods and they want to use these gods for their own gains.</p>
<p><strong>Mauri</strong> is (unawarely) the latest reincarnation of the Atlas. <strong>Luxus</strong> abducted and imprisoned him. One day, they left the door open, but the door leads to a test chamber. Only way to get out of the room is using the ability of gravity manipulation. By this way, they force him to remember his old lives and manifest his powers. Their master plan is to use the Atlas&rsquo;s powers for their own agenda.</p>
<h2 id="environment">Environment</h2>
<p>Each game level will be a test chamber. They will have a hospital like, sterile design in the first levels and cyberpunkish designs towards to end. These test chambers will have one entry and one exit door. Player needs to use their different abilities to the reach exit door (complete the level). There won&rsquo;t be any NPC/enemy etc. in the chambers. Other than the puzzle related objects, rooms will be mostly empty. For the scope of the project, only first level of the game is developed.</p>
<h2 id="gameplay">Gameplay</h2>
<p>Player will have 2 different gravity related power. Each level will be a 3D puzzle and player will use different powers to reach the end of the level.</p>
<h3 id="powers">Powers:</h3>
<h4 id="p1-object-gravity-direction-change">P1: Object Gravity Direction Change</h4>
<p><em>Not every leaf falls to ground</em></p>
<p>Normally, gravity pulls all objects towards the ground. In other words, the gravitational force acts on the global -y direction for all objects. With this ability, player can change the direction of the gravitational force acting on some of the objects. Only rectangular prism shaped objects can be altered with this power. Any of the 6 faces can be chosen as &ldquo;gravitation direction&rdquo;.</p>
<h4 id="p2-object-zero-gravity">P2: Object Zero Gravity</h4>
<p><em>There is no force</em></p>
<p>With this ability player can reduce the gravitational force on an object to zero. Object will remain where it is up until a player or another object touches it or player dismiss the ability. If the object was on the ground or on another surface, it will remain to stay on there, if it is on the air, it will stay on the air.</p>
<h2 id="physics-components">Physics Components</h2>
<p>Below physics phenomenons will occur during the game:</p>
<ul>
<li>Rigid Body Physics</li>
<li>Velocity and Acceleration</li>
<li>Gravity: Gravity direction of the objects will constantly change during the gameplay and they will fall to different surfaces.</li>
<li>Collision: Objects will be collide in the game. Therefore collision detection is one of the crucial parts of the game. Objects will not bounce back (coefficient of restitution is equal to 0) but they will drag others on the direction of the their gravitation. Objects with different gravity directions will affect each other.</li>
</ul>
<h3 id="general-game-object-scripts">General Game Object Scripts</h3>
<p>C# port of Cyclone Physics Engine is used for the all physical interaction in the game. Following scripts are attached to all objects in the game.</p>
<h4 id="particle-class">Particle Class</h4>
<p>This class used for containing main attributes of the game object like position, velocity, acceleration and inverse mass. It also includes the integration method of the objects.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>       Vector3d position = <span style="color:#66d9ef">new</span> Vector3d();
</span></span><span style="display:flex;"><span>        velocity = <span style="color:#66d9ef">new</span> Vector3d();
</span></span><span style="display:flex;"><span>        forceAccum = <span style="color:#66d9ef">new</span> Vector3d();
</span></span><span style="display:flex;"><span>        acceleration = <span style="color:#66d9ef">new</span> Vector3d();
</span></span><span style="display:flex;"><span>        inverseMass = <span style="color:#66d9ef">new</span> REAL();
</span></span><span style="display:flex;"><span>        damping = <span style="color:#66d9ef">new</span> REAL();
</span></span><span style="display:flex;"><span>        GameObject particleObject = <span style="color:#66d9ef">new</span> GameObject();
</span></span><span style="display:flex;"><span>        damping = <span style="color:#ae81ff">0.95</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (mass == <span style="color:#ae81ff">0</span>) { inverseMass = mass; }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> { inverseMass = <span style="color:#ae81ff">1</span> / mass; }
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Particle integrate(REAL duration, Particle obje)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        Vector3d resultingAcc = <span style="color:#66d9ef">new</span> Vector3d();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//update linear position</span>
</span></span><span style="display:flex;"><span>        obje.position = Vector3d.addScaledVector(obje.position, obje.velocity,
</span></span><span style="display:flex;"><span>		duration);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        resultingAcc = obje.acceleration;
</span></span><span style="display:flex;"><span>        resultingAcc = Vector3d.addScaledVector(resultingAcc, obje.forceAccum, 
</span></span><span style="display:flex;"><span>		obje.inverseMass);
</span></span><span style="display:flex;"><span>        obje.acceleration = resultingAcc;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//Update linear velocity from the acceleration;</span>
</span></span><span style="display:flex;"><span>        obje.velocity = Vector3d.addScaledVector(obje.velocity, resultingAcc, 
</span></span><span style="display:flex;"><span>		duration);
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//Impose drag</span>
</span></span><span style="display:flex;"><span>        obje.velocity.x *= Math.Pow(obje.damping, duration);
</span></span><span style="display:flex;"><span>        obje.velocity.y *= Math.Pow(obje.damping, duration);
</span></span><span style="display:flex;"><span>        obje.velocity.z *= Math.Pow(obje.damping, duration);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        obje.forceAccum = <span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>        obje.acceleration = <span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> obje;
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h4 id="cyclone-runner">Cyclone Runner</h4>
<p>This script calls Cyclone integration method each frame. Then update the position of the object in the game scene. Mainly it&rsquo;s a interface between Cyclone and Unity.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>  <span style="color:#66d9ef">void</span> Update()
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//integrate object over time</span>
</span></span><span style="display:flex;"><span>        particleObje = Particle.integrate(Time.deltaTime, particleObje);
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">//apply new position to gameObject</span>
</span></span><span style="display:flex;"><span>        transform.position = Vector3d.updatePosition(particleObje.position);
</span></span><span style="display:flex;"><span>    }
</span></span></code></pre></div><h3 id="collision-detection-and-resolution">Collision Detection and Resolution</h3>
<p>One collision script is developed for the both collision detection and collision resolution.</p>
<h4 id="collision-detection">Collision Detection</h4>
<p>Collision detection algorithm check in a loop whether chosen object collide with another object in the game and then continue this process for the next object. All objects in the game environments are rectangular prisms therefore it&rsquo;s easier to detect their collisions.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i = <span style="color:#ae81ff">0</span>; i &lt; numMoving; i++) 
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> j = <span style="color:#ae81ff">0</span>; j &lt; numMoving; j++) 
</span></span><span style="display:flex;"><span>            {
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">if</span> (i == j){<span style="color:#66d9ef">continue</span>;}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                parGravy = gravy[i].GetComponent&lt;Particle&gt;();
</span></span><span style="display:flex;"><span>                parGravy2 = gravy[j].GetComponent&lt;Particle&gt;();
</span></span><span style="display:flex;"><span>                difference = Vector3d.disBetween(parGravy.position, 
</span></span><span style="display:flex;"><span>				parGravy2.position);
</span></span><span style="display:flex;"><span>                xDif = Math.Abs(parGravy.position.x - parGravy2.position.x);
</span></span><span style="display:flex;"><span>                yDif = Math.Abs(parGravy.position.y - parGravy2.position.y);
</span></span><span style="display:flex;"><span>                zDif = Math.Abs(parGravy.position.z - parGravy2.position.z);
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                xLim = parGravy.transform.localScale.x / <span style="color:#ae81ff">2</span> + 
</span></span><span style="display:flex;"><span>				parGravy2.transform.localScale.x / <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>                yLim = parGravy.transform.localScale.y / <span style="color:#ae81ff">2</span> + 
</span></span><span style="display:flex;"><span>				parGravy2.transform.localScale.y / <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>                zLim = parGravy.transform.localScale.z / <span style="color:#ae81ff">2</span> + 
</span></span><span style="display:flex;"><span>				parGravy2.transform.localScale.z / <span style="color:#ae81ff">2</span>;
</span></span><span style="display:flex;"><span>                
</span></span><span style="display:flex;"><span>                xPenet = xLim - xDif;
</span></span><span style="display:flex;"><span>                yPenet = yLim - yDif;
</span></span><span style="display:flex;"><span>                zPenet = zLim - zDif;
</span></span><span style="display:flex;"><span>                minPen = Math.Min(xPenet, Math.Min(yPenet, zPenet));
</span></span></code></pre></div><p>In the game when two object collide with each other normally their behavior will be result on rotation of the one object:</p>
<p><img src="https://user-images.githubusercontent.com/81522783/158060464-4ae880a9-8a62-4ba6-82ae-b1077811c72b.png" alt="Pasted image 20210702002447"></p>
<p>However, we want them to move together without rotation like the following image. To provide this behavior, contact normal equation is changed. New contact normal is equal to normal direction of the contact surface (it is not related to the centers of the colliding objects).</p>
<p><img src="https://user-images.githubusercontent.com/81522783/158060451-038d9ede-c68c-470c-b38a-21d92fad7559.png" alt="Pasted image 20210702002414"></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> (xDif &lt; xLim &amp;&amp; yDif &lt; yLim &amp;&amp; zDif &lt; zLim)
</span></span><span style="display:flex;"><span>                {
</span></span><span style="display:flex;"><span>                    <span style="color:#66d9ef">if</span> (parGravy.inverseMass == <span style="color:#ae81ff">0</span> &amp;&amp; parGravy2.inverseMass == <span style="color:#ae81ff">0</span>) 
</span></span><span style="display:flex;"><span>					{ <span style="color:#66d9ef">continue</span>; }
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//get contact normal</span>
</span></span><span style="display:flex;"><span>                    Vector3d conNormal = Vector3d.normalize(parGravy.position
</span></span><span style="display:flex;"><span>					- parGravy2.position);
</span></span><span style="display:flex;"><span>                    <span style="color:#75715e">//get relative velocity of the objects</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (minPen == xPenet)
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                           
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">if</span> (parGravy.velocity.x &lt; <span style="color:#ae81ff">0</span>) { conNormal = 
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.x &gt; <span style="color:#ae81ff">0</span>) { conNormal =
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(-<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.x == <span style="color:#ae81ff">0</span>) { conNormal =
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (minPen == yPenet)
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">if</span> (parGravy.velocity.y &lt; <span style="color:#ae81ff">0</span>) { conNormal =
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.y &gt; <span style="color:#ae81ff">0</span>) { conNormal =
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, -<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.y == <span style="color:#ae81ff">0</span>) { conNormal =
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>                        <span style="color:#66d9ef">if</span> (minPen == zPenet)
</span></span><span style="display:flex;"><span>                        {
</span></span><span style="display:flex;"><span>                          
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">if</span> (parGravy.velocity.z &lt; <span style="color:#ae81ff">0</span>) { conNormal = 
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.z &gt; <span style="color:#ae81ff">0</span>) { conNormal = 
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, -<span style="color:#ae81ff">1</span>); }
</span></span><span style="display:flex;"><span>                            <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (parGravy.velocity.z == <span style="color:#ae81ff">0</span>) { conNormal = 
</span></span><span style="display:flex;"><span>							<span style="color:#66d9ef">new</span> Vector3d(<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">0</span>); }
</span></span><span style="display:flex;"><span>                        }
</span></span></code></pre></div><h4 id="contact-resolution">Contact Resolution</h4>
<p>Classical contact resolution described in the Cyclone Engine <sup id="fnref1:1"><a href="#fn:1" class="footnote-ref" role="doc-noteref">1</a></sup> is used for the contact resolution.</p>
<h3 id="gravitational-effects">Gravitational Effects</h3>
<p>Main aim of the game is using different gravitational directions to do that three scripts are developed. Only some of the game objects in the scene have these effects.</p>
<h4 id="apply-gravity">Apply Gravity</h4>
<p>Attached objects will be subjected to normal -y direction gravity.</p>
<h4 id="gravity-direction">Gravity Direction</h4>
<p>Attached objects will have gravity force acted on predefined direction. Player cannot change it during the game.</p>
<h4 id="change-gravity">Change Gravity</h4>
<p>Attached objects&rsquo; gravity forces are subjected to change by player. Player can chose any of the 6 surface for the gravity direction.</p>
<h1 id="literature-survey">Literature Survey</h1>
<p>Following papers are not directly related to game development. They are  investigating relationship between cognitive skills and 3D puzzle games. Therefore they were not helpful for the design of the game but they gave insight about the different applications of the games.</p>
<ul>
<li>Shute, V. J., Ventura, M., &amp; Ke, F. (2015). The power of play: The effects of Portal 2 and Lumosity on cognitive and noncognitive skills. Computers and Education, 80, 58–67. <a href="https://doi.org/10.1016/j.compedu.2014.08.013">https://doi.org/10.1016/j.compedu.2014.08.013</a></li>
<li>Oei, A. C., &amp; Patterson, M. D. (2014). Playing a puzzle video game with changing requirements improves executive functions. Computers in Human Behavior, 37, 216–228. <a href="https://doi.org/10.1016/j.chb.2014.04.046">https://doi.org/10.1016/j.chb.2014.04.046</a></li>
<li>VanMeerten, N., Varma, K., Gravelle, M., Miller, N., Kraikul, E., &amp; Fatemi, F. (2019). Evidence of a Relationship Between Mental Rotation Skills and Performance in a 3D Puzzle Game. Frontiers in Education, 4(August), 1–6. <a href="https://doi.org/10.3389/feduc.2019.00082">https://doi.org/10.3389/feduc.2019.00082</a></li>
<li>Adams, D. M., Pilegard, C., &amp; Mayer, R. E. (2016). Evaluating the Cognitive Consequences of Playing Portal for a Short Duration. Journal of Educational Computing Research, 54(2), 173–195. <a href="https://doi.org/10.1177/0735633115620431">https://doi.org/10.1177/0735633115620431</a></li>
</ul>
<h1 id="limitations">Limitations</h1>
<p>Originally I also planned to implement friction effects in the game and a third power where player can control all of the objects in the scene, however they are not part of the final build of the game due to time restrictions.</p>
<p>The second issue is controlling the avatar. Avatar <strong>position</strong> directly updated based on the input from the keyboard. However, when we update the position directly, it is not subjected to the physics rules and collision detection. To solve that I have tried to assign velocity and acceleration and use these external effects in the <strong>integration</strong> to move the avatar using physics engine. However, I could not manage to use this approach, avatar moves more than expected.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cs" data-lang="cs"><span style="display:flex;"><span>     <span style="color:#66d9ef">if</span> (Input.GetAxis(<span style="color:#e6db74">&#34;Vertical&#34;</span>) != <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            ver = Input.GetAxis(<span style="color:#e6db74">&#34;Vertical&#34;</span>);
</span></span><span style="display:flex;"><span>            playerObje = Particle.MovePlayer(Time.deltaTime * ver * <span style="color:#ae81ff">20</span> * rot,
</span></span><span style="display:flex;"><span>			playerObje);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (Input.GetAxis(<span style="color:#e6db74">&#34;Horizontal&#34;</span>) != <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>        {
</span></span><span style="display:flex;"><span>            hor = Input.GetAxis(<span style="color:#e6db74">&#34;Horizontal&#34;</span>);
</span></span><span style="display:flex;"><span>            playerObje = Particle.MovePlayer(Time.deltaTime * hor * <span style="color:#ae81ff">20</span> * 
</span></span><span style="display:flex;"><span>			rot2, playerObje);
</span></span><span style="display:flex;"><span>        }
</span></span></code></pre></div><h1 id="contribution">Contribution</h1>
<p>The main contribution of this project is developing a game with changing gravitation effects. This changing gravity direction mechanics can lead to different game mechanics and potential 3D puzzles.</p>
<div class="footnotes" role="doc-endnotes">
<hr>
<ol>
<li id="fn:1">
<p>Millingtan, I. (2010). Game physics engine development : how to build a robust commercial-grade physics engine for your game (2nd ed.). <a href="https://www.sciencedirect.com/book/9780123819765/game-physics-engine-development">https://www.sciencedirect.com/book/9780123819765/game-physics-engine-development</a>&#160;<a href="#fnref:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a>&#160;<a href="#fnref1:1" class="footnote-backref" role="doc-backlink">&#x21a9;&#xfe0e;</a></p>
</li>
</ol>
</div>

          </article>
        </div>
      </div>
      <div class="col-sm-12 col-md-12 col-lg-3">
        <div id="stickySideBar" class="sticky-sidebar">
          
          <aside class="toc">
              <h5>
                Table Of Contents
              </h5>
              <div class="toc-content">
                <nav id="TableOfContents">
  <ul>
    <li><a href="#summary">Summary</a></li>
    <li><a href="#similar-games--inspiration-sources">Similar Games &amp; Inspiration Sources</a></li>
  </ul>

  <ul>
    <li><a href="#game-story">Game Story</a></li>
    <li><a href="#environment">Environment</a></li>
    <li><a href="#gameplay">Gameplay</a>
      <ul>
        <li><a href="#powers">Powers:</a></li>
      </ul>
    </li>
    <li><a href="#physics-components">Physics Components</a>
      <ul>
        <li><a href="#general-game-object-scripts">General Game Object Scripts</a></li>
        <li><a href="#collision-detection-and-resolution">Collision Detection and Resolution</a></li>
        <li><a href="#gravitational-effects">Gravitational Effects</a></li>
      </ul>
    </li>
  </ul>
</nav>
              </div>
          </aside>
          

          
          <aside class="tags">
            <h5>Tags</h5>
            <ul class="tags-ul list-unstyled list-inline">
              
              <li class="list-inline-item"><a href="https://zaltinsoy.github.io/tags/unity" target="_blank">Unity</a></li>
              
              <li class="list-inline-item"><a href="https://zaltinsoy.github.io/tags/physics" target="_blank">Physics</a></li>
              
            </ul>
          </aside>
          

          
          <aside class="social">
            <h5>Social</h5>
            <div class="social-content">
              <ul class="list-inline">
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://twitter.com/share?text=ATLAS&url=https%3a%2f%2fzaltinsoy.github.io%2fprojects%2fatlas%2f">
                    <i class="fab fa-twitter"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href="https://api.whatsapp.com/send?text=ATLAS: https%3a%2f%2fzaltinsoy.github.io%2fprojects%2fatlas%2f">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                </li>
                <li class="list-inline-item text-center">
                  <a target="_blank" href='mailto:?subject=ATLAS&amp;body=Check%20out%20this%20site https%3a%2f%2fzaltinsoy.github.io%2fprojects%2fatlas%2f'>
                    <i class="fa fa-envelope"></i>
                  </a>
                </li>
              </ul>
            </div>
          </aside>
          
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12 col-md-12 col-lg-9 p-4">
        
      </div>
    </div>
  </div>
  <button class="p-2 px-3" onclick="topFunction()" id="topScroll">
    <i class="fas fa-angle-up"></i>
  </button>
</section>


<div class="progress">
  <div id="scroll-progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
</div>
<Script src="/js/scrollProgressBar.js"></script>


<script>
  var topScroll = document.getElementById("topScroll");
  window.onscroll = function() {scrollFunction()};

  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      topScroll.style.display = "block";
    } else {
      topScroll.style.display = "none";
    }
  }

  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }

  
  let stickySideBarElem = document.getElementById("stickySideBar");
  let stickyNavBar =  true ;
  if(stickyNavBar) {
    let headerElem = document.getElementById("profileHeader");
    let headerHeight = headerElem.offsetHeight + 15;
    stickySideBarElem.style.top = headerHeight + "px";
  } else {
    stickySideBarElem.style.top = "50px";
  }
</script>


<script src="/js/readingTime.js"></script>



  </div><footer>
    
 

<div class="text-center pt-2">
    
    <span class="px-1">
        <a href="https://github.com/zaltinsoy" aria-label="github">
            <svg xmlns="http://www.w3.org/2000/svg" width="2.7em" height="2.7em" viewBox="0 0 1792 1792">
                <path
                    d="M522 1352q-8 9-20-3-13-11-4-19 8-9 20 3 12 11 4 19zm-42-61q9 12 0 19-8 6-17-7t0-18q9-7 17 6zm-61-60q-5 7-13 2-10-5-7-12 3-5 13-2 10 5 7 12zm31 34q-6 7-16-3-9-11-2-16 6-6 16 3 9 11 2 16zm129 112q-4 12-19 6-17-4-13-15t19-7q16 5 13 16zm63 5q0 11-16 11-17 2-17-11 0-11 16-11 17-2 17 11zm58-10q2 10-14 14t-18-8 14-15q16-2 18 9zm964-956v960q0 119-84.5 203.5t-203.5 84.5h-224q-16 0-24.5-1t-19.5-5-16-14.5-5-27.5v-239q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105 20.5-150.5q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27t-83.5-38.5-86-13.5q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5-55.5-62.5q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 103t.5 68q0 22-11 33.5t-22 13-33 1.5h-224q-119 0-203.5-84.5t-84.5-203.5v-960q0-119 84.5-203.5t203.5-84.5h960q119 0 203.5 84.5t84.5 203.5z" />

                <metadata>
                    <rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
                        xmlns:rdfs="http://www.w3.org/2000/01/rdf-schema#" xmlns:dc="http://purl.org/dc/elements/1.1/">
                        <rdf:Description about="https://iconscout.com/legal#licenses"
                            dc:title="Github, Online, Project, Hosting, Square"
                            dc:description="Github, Online, Project, Hosting, Square" dc:publisher="Iconscout"
                            dc:date="2016-12-14" dc:format="image/svg+xml" dc:language="en">
                            <dc:creator>
                                <rdf:Bag>
                                    <rdf:li>Font Awesome</rdf:li>
                                </rdf:Bag>
                            </dc:creator>
                        </rdf:Description>
                    </rdf:RDF>
                </metadata>
            </svg>
        </a>
    </span>
    

    
    <span class="px-1">
        <a href="https://www.linkedin.com/in/zafer-alt%C4%B1nsoy-a1a307135/" aria-label="linkedin">
            <svg xmlns="http://www.w3.org/2000/svg" width='2.4em' height='2.4em' fill="#fff" aria-label="LinkedIn"
                viewBox="0 0 512 512">
                <rect width="512" height="512" fill="#0077b5" rx="15%" />
                <circle cx="142" cy="138" r="37" />
                <path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198" />
                <path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32" />
            </svg>
        </a>
    </span>
    

    
    <a href="https://twitter.com/Crawleey" aria-label="twitter">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" width="48px" height="48px">
            <path fill="#03a9f4"
                d="M42,37c0,2.762-2.239,5-5,5H11c-2.762,0-5-2.238-5-5V11c0-2.762,2.238-5,5-5h26c2.761,0,5,2.238,5,5 V37z" />
            <path fill="#fff"
                d="M36,17.12c-0.882,0.391-1.999,0.758-3,0.88c1.018-0.604,2.633-1.862,3-3 c-0.951,0.559-2.671,1.156-3.793,1.372C31.311,15.422,30.033,15,28.617,15C25.897,15,24,17.305,24,20v2c-4,0-7.9-3.047-10.327-6 c-0.427,0.721-0.667,1.565-0.667,2.457c0,1.819,1.671,3.665,2.994,4.543c-0.807-0.025-2.335-0.641-3-1c0,0.016,0,0.036,0,0.057 c0,2.367,1.661,3.974,3.912,4.422C16.501,26.592,16,27,14.072,27c0.626,1.935,3.773,2.958,5.928,3c-1.686,1.307-4.692,2-7,2 c-0.399,0-0.615,0.022-1-0.023C14.178,33.357,17.22,34,20,34c9.057,0,14-6.918,14-13.37c0-0.212-0.007-0.922-0.018-1.13 C34.95,18.818,35.342,18.104,36,17.12" />
        </svg>
    </a>
    

    

    
</div><div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-md-4 text-center">
            <div class="pb-2">
                <a href="https://zaltinsoy.github.io/" title="Zafer Altınsoy">
                    <img alt="Footer logo" src="/fav.png"
                        height="40px" width="40px">
                </a>
            </div>
            &copy; 2024  All rights reserved
            <div class="text-secondary">
                Made with
                <span class="text-danger">
                    &#10084;
                </span>
                and
                <a href="https://github.com/gurusabarish/hugo-profile" target="_blank"
                    title="Designed and developed by gurusabarish">
                    Hugo Profile
                </a>
            </div>
        </div>
    </div>
</div></footer><script src="/bootstrap-5/js/bootstrap.bundle.min.js"></script>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

</script>


    <script src="/js/search.js"></script>











  <section id="search-content" class="py-2">
    <div class="container" id="search-results"></div>
  </section>
</body>

</html>